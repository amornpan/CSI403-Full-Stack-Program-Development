# Week 08: Docker Compose (Lab 07)

## üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ

| ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|--------|------------|
| **‡∏ß‡∏¥‡∏ä‡∏≤** | CSI403 - Full Stack RAG with Local LLM |
| **Week** | Week 08 |
| **Lab** | Lab 07 |
| **‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠** | Docker Compose + Multi-Container Application |
| **‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô** | 3.75% |
| **Deadline** | ‡∏î‡∏π‡πÉ‡∏ô GitHub Classroom |

---

## üéØ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥ Lab ‡∏ô‡∏µ‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:

1. ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Dockerfile ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Python application ‡πÑ‡∏î‡πâ
2. ‡πÉ‡∏ä‡πâ Docker Compose ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ multi-container ‡πÑ‡∏î‡πâ
3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ networking ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á containers ‡πÑ‡∏î‡πâ
4. ‡πÉ‡∏ä‡πâ volumes ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö persistent data ‡πÑ‡∏î‡πâ

---

## üìù ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥

### Task 1: Dockerfile ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö API (25 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)

‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `api/Dockerfile` ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏ï‡∏≤‡∏° TODO:

1. **TODO 1**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î base image (Python 3.11)
2. **TODO 2**: Copy ‡πÅ‡∏•‡∏∞ install requirements
3. **TODO 3**: Copy source code
4. **TODO 4**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î CMD ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ô FastAPI

### Task 2: Dockerfile ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Frontend (25 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)

‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `frontend/Dockerfile` ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏ï‡∏≤‡∏° TODO:

1. **TODO 1**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î base image
2. **TODO 2**: Copy ‡πÅ‡∏•‡∏∞ install requirements
3. **TODO 3**: Copy source code
4. **TODO 4**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î CMD ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ô Streamlit

### Task 3: Docker Compose (40 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)

‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `docker-compose.yml` ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏ï‡∏≤‡∏° TODO:

1. **TODO 1**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î API service
2. **TODO 2**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î Frontend service
3. **TODO 3**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î OpenSearch service
4. **TODO 4**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î networks ‡πÅ‡∏•‡∏∞ volumes

### Task 4: Screenshot (10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)

‡∏ñ‡πà‡∏≤‡∏¢ screenshot ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ containers ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

---

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥ Lab

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: Clone Repository

```bash
git clone <URL ‡∏Ç‡∏≠‡∏á repo ‡∏Ñ‡∏∏‡∏ì>
cd week08-docker-compose-<username>
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ó‡∏≥ Tasks

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå:
- `api/Dockerfile`
- `frontend/Dockerfile`
- `docker-compose.yml`

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: Build ‡πÅ‡∏•‡∏∞ Run

```bash
# Build images
docker-compose build

# Run all services
docker-compose up -d

# ‡∏î‡∏π logs
docker-compose logs -f

# ‡∏î‡∏π status
docker-compose ps
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API
curl http://localhost:9000/health

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Frontend
# ‡πÄ‡∏õ‡∏¥‡∏î browser: http://localhost:8501

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö OpenSearch
curl http://localhost:9200
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏£‡∏±‡∏ô Tests

```bash
pytest tests/ -v
```

---

## üèóÔ∏è Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Docker Network                    ‚îÇ
‚îÇ                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ Frontend ‚îÇ   ‚îÇ   API    ‚îÇ   ‚îÇ  OpenSearch   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ :8501    ‚îÇ‚îÄ‚îÄ‚ñ∂‚îÇ  :9000   ‚îÇ‚îÄ‚îÄ‚ñ∂‚îÇ    :9200      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ(Streamlit‚îÇ   ‚îÇ (FastAPI)‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                        ‚îÇ            ‚îÇ
‚îÇ                                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ
‚îÇ                                   ‚îÇ Volume  ‚îÇ       ‚îÇ
‚îÇ                                   ‚îÇ (data)  ‚îÇ       ‚îÇ
‚îÇ                                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## ‚úÖ ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (Rubric)

| ‡πÄ‡∏Å‡∏ì‡∏ë‡πå | ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|-------|-------|------------|
| **Task 1: api/Dockerfile** | 25 | Build ‡πÅ‡∏•‡∏∞ run ‡πÑ‡∏î‡πâ |
| **Task 2: frontend/Dockerfile** | 25 | Build ‡πÅ‡∏•‡∏∞ run ‡πÑ‡∏î‡πâ |
| **Task 3: docker-compose.yml** | 40 | Services ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ |
| **Task 4: Screenshots** | 10 | ‡πÅ‡∏™‡∏î‡∏á containers running |
| **‡∏£‡∏ß‡∏°** | **100** | |

---

## üìö ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ

> **[‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ]**
> 
> ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ Lab ‡∏ô‡∏µ‡πâ ‡πÄ‡∏ä‡πà‡∏ô:
> - Dockerfile syntax
> - Docker Compose concepts
> - Container networking
> - Volume management
> 
> (‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á)

---

## üìñ ‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- [Dockerfile Reference](https://docs.docker.com/engine/reference/builder/)
- [Docker Compose File Reference](https://docs.docker.com/compose/compose-file/)
- [Docker Networking](https://docs.docker.com/network/)

---

## ‚ùì ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠?

- ‡∏ñ‡∏≤‡∏°‡πÉ‡∏ô LINE ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ß‡∏¥‡∏ä‡∏≤
- ‡πÄ‡∏õ‡∏¥‡∏î Issue ‡πÉ‡∏ô Repository ‡∏ô‡∏µ‡πâ
- ‡∏û‡∏ö‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡πÉ‡∏ô‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á Office Hours

---

**¬© 2026 CSI403 - Full Stack RAG with Local LLM**
