% Week 5: OpenSearch Integration
\documentclass[aspectratio=169,11pt]{beamer}
\usetheme{Madrid}
\usecolortheme{default}
\setbeamertemplate{navigation symbols}{}
\usepackage[T1]{fontenc}
\usepackage{booktabs}
\usepackage{listings}
\lstset{basicstyle=\ttfamily\small,breaklines=true}

% === PURPLE THEME ===
\definecolor{maincolor}{RGB}{138,43,226}
\definecolor{accentcolor}{RGB}{186,85,211}
\definecolor{lightpurple}{RGB}{230,190,255}

\setbeamercolor{structure}{fg=maincolor}
\setbeamercolor{palette primary}{bg=maincolor,fg=white}
\setbeamercolor{palette secondary}{bg=accentcolor,fg=white}
\setbeamercolor{palette tertiary}{bg=maincolor,fg=white}
\setbeamercolor{title}{fg=white}
\setbeamercolor{frametitle}{fg=white,bg=maincolor}
\setbeamercolor{block title}{bg=maincolor,fg=white}
\setbeamercolor{block body}{bg=lightpurple!30}
\setbeamercolor{titlelike}{fg=white,bg=maincolor}

\title{Week 5: OpenSearch Integration}
\subtitle{Full Stack RAG with Local LLM}
\date{Semester 2/2568}

\begin{document}

\begin{frame}
    \titlepage
\end{frame}

\begin{frame}{Agenda}
    \tableofcontents
\end{frame}

\section{Vector Search}

\begin{frame}{Vector vs Keyword Search}
    \begin{columns}[T]
        \begin{column}{0.48\textwidth}
            \textbf{Keyword (BM25):}
            \begin{itemize}
                \item Exact matching
                \item Fast
                \item Miss semantics
            \end{itemize}
        \end{column}
        \begin{column}{0.48\textwidth}
            \textbf{Vector Search:}
            \begin{itemize}
                \item Semantic similarity
                \item Understand meaning
                \item Find related content
            \end{itemize}
        \end{column}
    \end{columns}
    \vspace{0.5cm}
    \textbf{Hybrid Search = Best of Both!}
\end{frame}

\section{OpenSearch Client}

\begin{frame}[fragile]{Connect to OpenSearch}
    \begin{lstlisting}[language=python]
from opensearchpy import OpenSearch

client = OpenSearch(
    hosts=[{"host": "localhost", "port": 9200}],
    use_ssl=False
)

# Check connection
info = client.info()
    \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Create Index}
    \begin{lstlisting}[language=python]
index_body = {
    "settings": {"index": {"knn": True}},
    "mappings": {
        "properties": {
            "content": {"type": "text"},
            "content_vector": {
                "type": "knn_vector",
                "dimension": 1024
            }
        }
    }
}
client.indices.create(index="docs", body=index_body)
    \end{lstlisting}
\end{frame}

\section{Lab 4}

\begin{frame}{Lab 4: OpenSearch Integration (3.75\%)}
    \textbf{Tasks:}
    \begin{enumerate}
        \item Connect from Python
        \item Create index with vector field
        \item Index sample documents
        \item Implement hybrid search
    \end{enumerate}
    \textbf{Deadline: Sunday 23:59}
\end{frame}

\begin{frame}
    \begin{center}
        \Huge Questions?
        \Large See you in Lab 4!
    \end{center}
\end{frame}

\end{document}
